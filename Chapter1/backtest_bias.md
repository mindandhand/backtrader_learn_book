# 1.2 回测偏差
---
- 在上一节成功运行backtrader进行了回测、数据可视化与参数优化,看起来是不是很简单？事实上，这才是万里长征第一步。
- 回测的策略在实盘操作中总是不那么有效。有些偏差总是影响回测中策略的有效性，常见的的有以下几种。
    - 过度优化偏差
        - 为了获得超额收益，对拥有的数据进行过度的参数设置与调试。因为这些参数是根据样本训练出来的，如果过于计较参数的调优，很可能换一批数据参数就失去了有效性。应当尽量增加数据的多样性、周期性(跨越牛熊震荡)，寻找的参数[^1]必须符合业务逻辑，而且历史数据依赖当时的环境，当前可能已经不适用了。
    - 未来数据偏差
        - 在回测的时候，所有的数据都是历史数据；但对于回测运行到的时间点，某些数据在那个时间点可能还属于未来数据(比如最高价\最低价)，这种情况下回测策略很容易获得超额收益。另外，基于整个数据集计算出来的某个参数又被用来对相同的数据集进行回测，也属于使用了未来数据。
    - 幸存者偏差
        - 这样的偏差通常出现在当前所用的数据集不包括一些回测时点原本应该存在的数据时，只考虑了今天仍然可以交易的标的，而对于调出指数或者退市的标的视而不见。就好比去问，跳楼的时候有没有后悔过，只有那些幸存者才可能进行回答。
    - 心理认知偏差
        - 对于历史数据，因为已经知道了最终的结果，所以即使市场连续震荡100天，只有5天上涨，只要最终收益是正的，内心就不会惊慌。但在实盘操作中，这样的过程是十分煎熬的，世界上没有免费的午餐[^2]，沉淀在当前标的的资金，在其它地方可能早就获得不菲收益了。震荡的最终结果，不是提前清仓，就是打算买入的时候成本已经很高了。
    - 市场参与者
        - 对于散户而言，这可能是没有考虑的必要的，只对大资金有影响。因为其也是作为市场参与者的一部分，过大的资金量在实盘操作中很可能会影响盘口K线，进而让其它竞争者发现有大资金在建仓，从而拉高入市成本。


[^1]: 确实存在某些参数十分有用,但讲不清道理，sqrt函数实现中魔法数字0x5f375a86就是一个例子
[^2]: 世界上没有免费的午餐在经济学上的解释是,如果不吃免费的午餐,而去做另外一件事情就可以获得的收益,其收益就是选择免费午餐的机会成本